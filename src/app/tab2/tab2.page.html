<ion-content [fullscreen]="true">

  <div class="bg-white pr-1 pl-1">
    <p class="font-bold text-2xl mt-2 p-4 ml-2 text-center">Menu</p>
    <p class="font-black text-2xl ml-4 mb-4 text-green-800 text-start"
    *ngIf="userData?.Nombre">Descubre <span class="text-orange-600">nuestros</span> sabores {{ userData.Nombre }}</p>
 

    <div class="ml-4 flex items-center justify-between mb-4">
      <div class="flex-1">
        <input type="text" placeholder="Healthy Food"
          class="w-full p-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-yellow-500" />
      </div>
      <ion-button class="btn-primary  text-white font-bold h-12 px-2 rounded ">
        <ion-icon class="h-12 w-7" name="options-outline"></ion-icon>
      </ion-button>
    </div>

    <div class="ml-4 flex space-x-3 overflow-x-auto ">
      <button class="bg-yellow-400 text-white font-semibold px-4 py-2 rounded-full">
        <div class="flex items-center">
          <ion-icon name="pizza-outline" class="h-5 w-5 mr-2"></ion-icon>
          Fast Food
        </div>
      </button>
      <button class="bg-gray-100 text-gray-700 font-semibold px-4 py-2 rounded-full">
        Fruits
      </button>
      <button class="bg-gray-100 text-gray-700 font-semibold px-4 py-2 rounded-full">
        Drinks
      </button>
      <!-- Más categorías -->
    </div>

    <div class="mx-auto max-w-3xl px-4 py-10   lg:max-w-7xl lg:px-8">

      <div class=" grid grid-cols-2 gap-x-3 gap-y-10 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8">

        <div *ngFor="let product of products" class="rounded-[17px] border border-1 border-gray-200 shadow-sm ">
          <div class="aspect-h-1 aspect-w-1 pr-4 pt-2  pl-4 overflow-hidden rounded-[20px]  lg:aspect-none group-hover:opacity-75 lg:h-25" (click)="obtenerDetalleProducto(product.idProducto)">
            <img [src]="product.Imagen" alt="Front of men&#039;s Basic Tee in black."
              class="h-30 w-50  rounded-[20px] object-cover object-center ">
          </div>
          <div class="p-2">
            <h2 class="text-lg font-bold truncate"> {{product.Nombre}}</h2>
            <p class="text-sm text-gray-500">Fresh Tomato</p>
            <div class="flex justify-between items-center mt-2">
              <span class="font-bold">${{product.Precio}}</span>
              <div class="flex items-center space-x-1"> <!-- Ajusta el valor de `space-x-1` según la separación deseada -->
                <ion-button id="open-product-modal" name="open-product-modal" expand="block" size="small" color="success" class="z-10" (click)="obtenerDetalleProducto(product.idProducto)">
                  <ion-icon slot="icon-only" name="eye" size="medium" color="light"></ion-icon>
                </ion-button>
                
                <div *ngIf="userData.idUsuario !== 0">
                  <ion-button expand="block" size="small" color="success" class="z-10" (click)="agregarAlCarrito(product.idProducto)">
                    <ion-icon slot="icon-only" name="cart" size="medium" color="light"></ion-icon>
                  </ion-button>
                </div>
              </div>
              
            </div>
          </div>
        </div>

      </div>
      <div #productPage>
        <ion-modal #productModal [canDismiss]="canDismiss" [presentingElement]="productPage">
          <ng-template>
            <ion-content>
              <div *ngIf="productoSelect !== null" class="m-4">
                <div class="p-5">
                  <div class="flex justify-end">
                    <ion-buttons slot="end">
                      <ion-button (click)="productModal.dismiss()">
                        <ion-icon name="close-outline" class="h-10 w-10"></ion-icon>
                      </ion-button>
                    </ion-buttons>
                  </div>
                  <div class="mb-2">
                    <img [src]="productoSelect.Imagen" alt="Producto" class="h-1/2 w-full">
                  </div>
                </div>
                <div class="flex mt-2 pr-4 pl-4 ml-3 items-center">
                  <div class="flex items-center mr-4">
                    <ion-icon name="alarm-outline" class="h-7 w-7 mr-2"></ion-icon>
                    <span>40 minutos</span>
                  </div>
                  <div class="flex items-center">
                    <ion-icon name="fast-food-outline" class="h-7 w-7 mr-2"></ion-icon>
                    <span>Platillo fuerte</span>
                  </div>
                </div>
                <div class="ml-3 p-5">
                  <div class="flex justify-between items-center">
                    <p class="font-bold text-start text-2xl mt-4">{{ productoSelect.Nombre }}</p>
                    <p class="font-bold text-end text-3xl text-red-700">${{ productoSelect.Precio }}</p>
                  </div>
                  <p class="font-normal text-start text-md mt-4">{{ productoSelect.Descripcion }}</p>
                  <p class="font-normal text-start text-md mt-4">{{ productoSelect.Ingredientes }}</p>

                </div>
                <div class="flex justify-start justify-between pr-8 pl-8 mt-4">
                  <p class="font-bold">Todos</p>
                  <p>{{ productoSelect.Categoria }}</p>
                </div>
                <div class="p-5 ml-3 flex justify-center w-full bg-white">
                  <div class="flex justify-between m-2 items-center">
                    <span class="font-bold text-2xl mr-2">{{productoSelect.Disponibilidad}} disponibles</span>
                  </div>
                </div>
                <div *ngIf="userData.idUsuario !== 0" >
                  <button class="w-full bg-green-600 text-white py-2 rounded-md hover:bg-green-700" (click)="agregarAlCarrito(productoSelect.idProducto)" >
                    Agregar al carrito<ion-icon name="cart"  class="mr-2"></ion-icon> 
                  </button>
                </div>

              </div>
            </ion-content>
          </ng-template>
        </ion-modal>
      </div>
      

    </div>
  </div>

</ion-content>

